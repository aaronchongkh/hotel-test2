{"ast":null,"code":"var DTraceProvider;\n\nfunction DTraceProviderStub() {}\n\nDTraceProviderStub.prototype.addProbe = function (name) {\n  var p = {\n    'fire': function () {}\n  };\n  this[name] = p;\n  return p;\n};\n\nDTraceProviderStub.prototype.enable = function () {};\n\nDTraceProviderStub.prototype.fire = function () {};\n\nDTraceProviderStub.prototype.disable = function () {};\n\nvar builds = ['Release', 'default', 'Debug'];\n\nfor (var i in builds) {\n  try {\n    var binding = require('./build/' + builds[i] + '/DTraceProviderBindings');\n\n    DTraceProvider = binding.DTraceProvider;\n    break;\n  } catch (e) {\n    // if the platform looks like it _should_ have DTrace\n    // available, log a failure to load the bindings.\n    if (process.platform == 'darwin' || process.platform == 'solaris' || process.platform == 'freebsd') {\n      console.error(e);\n    }\n  }\n}\n\nif (!DTraceProvider) {\n  DTraceProvider = DTraceProviderStub;\n}\n\nexports.DTraceProvider = DTraceProvider;\n\nexports.createDTraceProvider = function (name, module) {\n  if (arguments.length == 2) return new exports.DTraceProvider(name, module);\n  return new exports.DTraceProvider(name);\n};","map":null,"metadata":{},"sourceType":"script"}